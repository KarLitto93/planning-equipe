var dt=Object.defineProperty;var lt=(a,t,r)=>t in a?dt(a,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):a[t]=r;var G=(a,t,r)=>lt(a,typeof t!="symbol"?t+"":t,r);import{_ as ut,a as ze,j as i,D as ct,c as mt,T as ht,L as ft}from"./mui-vendor-BknRDYT8.js";import{d as gt,g as ae,e as se,r as w,b as pt}from"./react-vendor-C9_qfvjK.js";import{r as Ve}from"./utils-vendor-mu4Gk3Hf.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))e(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&e(o)}).observe(document,{childList:!0,subtree:!0});function r(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function e(n){if(n.ep)return;n.ep=!0;const s=r(n);fetch(n.href,s)}})();var Ae={},Ye=gt;Ae.createRoot=Ye.createRoot,Ae.hydrateRoot=Ye.hydrateRoot;var vt=Ve();const E=ae(vt);var Je={exports:{}};(function(a,t){(function(r,e){a.exports=e()})(se,function(){var r="week",e="year";return function(n,s,o){var d=s.prototype;d.week=function(l){if(l===void 0&&(l=null),l!==null)return this.add(7*(l-this.week()),"day");var m=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var h=o(this).startOf(e).add(1,e).date(m),c=o(this).endOf(r);if(h.isBefore(c))return 1}var p=o(this).startOf(e).date(m).startOf(r).subtract(1,"millisecond"),f=this.diff(p,r,!0);return f<0?o(this).startOf("week").week():Math.ceil(f)},d.weeks=function(l){return l===void 0&&(l=null),this.week(l)}}})})(Je);var xt=Je.exports;const yt=ae(xt);var qe={exports:{}};(function(a,t){(function(r,e){a.exports=e()})(se,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},e=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|Q|YYYY|YY?|ww?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,n=/\d/,s=/\d\d/,o=/\d\d?/,d=/\d*[^-_:/,()\s\d]+/,l={},m=function(g){return(g=+g)+(g>68?1900:2e3)},h=function(g){return function(x){this[g]=+x}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(x){if(!x||x==="Z")return 0;var y=x.match(/([+-]|\d\d)/g),b=60*y[1]+(+y[2]||0);return b===0?0:y[0]==="+"?-b:b}(g)}],p=function(g){var x=l[g];return x&&(x.indexOf?x:x.s.concat(x.f))},f=function(g,x){var y,b=l.meridiem;if(b){for(var A=1;A<=24;A+=1)if(g.indexOf(b(A,0,x))>-1){y=A>12;break}}else y=g===(x?"pm":"PM");return y},M={A:[d,function(g){this.afternoon=f(g,!1)}],a:[d,function(g){this.afternoon=f(g,!0)}],Q:[n,function(g){this.month=3*(g-1)+1}],S:[n,function(g){this.milliseconds=100*+g}],SS:[s,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[o,h("seconds")],ss:[o,h("seconds")],m:[o,h("minutes")],mm:[o,h("minutes")],H:[o,h("hours")],h:[o,h("hours")],HH:[o,h("hours")],hh:[o,h("hours")],D:[o,h("day")],DD:[s,h("day")],Do:[d,function(g){var x=l.ordinal,y=g.match(/\d+/);if(this.day=y[0],x)for(var b=1;b<=31;b+=1)x(b).replace(/\[|\]/g,"")===g&&(this.day=b)}],w:[o,h("week")],ww:[s,h("week")],M:[o,h("month")],MM:[s,h("month")],MMM:[d,function(g){var x=p("months"),y=(p("monthsShort")||x.map(function(b){return b.slice(0,3)})).indexOf(g)+1;if(y<1)throw new Error;this.month=y%12||y}],MMMM:[d,function(g){var x=p("months").indexOf(g)+1;if(x<1)throw new Error;this.month=x%12||x}],Y:[/[+-]?\d+/,h("year")],YY:[s,function(g){this.year=m(g)}],YYYY:[/\d{4}/,h("year")],Z:c,ZZ:c};function N(g){var x,y;x=g,y=l&&l.formats;for(var b=(g=x.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(R,z,I){var _=I&&I.toUpperCase();return z||y[I]||r[I]||y[_].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(V,D,O){return D||O.slice(1)})})).match(e),A=b.length,$=0;$<A;$+=1){var F=b[$],Y=M[F],L=Y&&Y[0],U=Y&&Y[1];b[$]=U?{regex:L,parser:U}:F.replace(/^\[|\]$/g,"")}return function(R){for(var z={},I=0,_=0;I<A;I+=1){var V=b[I];if(typeof V=="string")_+=V.length;else{var D=V.regex,O=V.parser,K=R.slice(_),ee=D.exec(K)[0];O.call(z,ee),R=R.replace(ee,"")}}return function(Q){var de=Q.afternoon;if(de!==void 0){var W=Q.hours;de?W<12&&(Q.hours+=12):W===12&&(Q.hours=0),delete Q.afternoon}}(z),z}}return function(g,x,y){y.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(m=g.parseTwoDigitYear);var b=x.prototype,A=b.parse;b.parse=function($){var F=$.date,Y=$.utc,L=$.args;this.$u=Y;var U=L[1];if(typeof U=="string"){var R=L[2]===!0,z=L[3]===!0,I=R||z,_=L[2];z&&(_=L[2]),l=this.$locale(),!R&&_&&(l=y.Ls[_]),this.$d=function(K,ee,Q,de){try{if(["x","X"].indexOf(ee)>-1)return new Date((ee==="X"?1e3:1)*K);var W=N(ee)(K),pe=W.year,le=W.month,nt=W.day,at=W.hours,st=W.minutes,it=W.seconds,ot=W.milliseconds,Oe=W.zone,ke=W.week,ve=new Date,xe=nt||(pe||le?1:ve.getDate()),ye=pe||ve.getFullYear(),ue=0;pe&&!le||(ue=le>0?le-1:ve.getMonth());var ce,we=at||0,be=st||0,Me=it||0,Se=ot||0;return Oe?new Date(Date.UTC(ye,ue,xe,we,be,Me,Se+60*Oe.offset*1e3)):Q?new Date(Date.UTC(ye,ue,xe,we,be,Me,Se)):(ce=new Date(ye,ue,xe,we,be,Me,Se),ke&&(ce=de(ce).week(ke).toDate()),ce)}catch{return new Date("")}}(F,U,Y,y),this.init(),_&&_!==!0&&(this.$L=this.locale(_).$L),I&&F!=this.format(U)&&(this.$d=new Date("")),l={}}else if(U instanceof Array)for(var V=U.length,D=1;D<=V;D+=1){L[1]=U[D-1];var O=y.apply(this,L);if(O.isValid()){this.$d=O.$d,this.$L=O.$L,this.init();break}D===V&&(this.$d=new Date(""))}else A.call(this,$)}}})})(qe);var wt=qe.exports;const bt=ae(wt);var Ke={exports:{}};(function(a,t){(function(r,e){a.exports=e()})(se,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(e,n,s){var o=n.prototype,d=o.format;s.en.formats=r,o.format=function(l){l===void 0&&(l="YYYY-MM-DDTHH:mm:ssZ");var m=this.$locale().formats,h=function(c,p){return c.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(f,M,N){var g=N&&N.toUpperCase();return M||p[N]||r[N]||p[g].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,y,b){return y||b.slice(1)})})}(l,m===void 0?{}:m);return d.call(this,h)}}})})(Ke);var Mt=Ke.exports;const St=ae(Mt);var Ge={exports:{}};(function(a,t){(function(r,e){a.exports=e()})(se,function(){return function(r,e,n){e.prototype.isBetween=function(s,o,d,l){var m=n(s),h=n(o),c=(l=l||"()")[0]==="(",p=l[1]===")";return(c?this.isAfter(m,d):!this.isBefore(m,d))&&(p?this.isBefore(h,d):!this.isAfter(h,d))||(c?this.isBefore(m,d):!this.isAfter(m,d))&&(p?this.isAfter(h,d):!this.isBefore(h,d))}}})})(Ge);var Tt=Ge.exports;const Nt=ae(Tt);var Be={exports:{}};(function(a,t){(function(r,e){a.exports=e()})(se,function(){return function(r,e){var n=e.prototype,s=n.format;n.format=function(o){var d=this,l=this.$locale();if(!this.isValid())return s.bind(this)(o);var m=this.$utils(),h=(o||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(c){switch(c){case"Q":return Math.ceil((d.$M+1)/3);case"Do":return l.ordinal(d.$D);case"gggg":return d.weekYear();case"GGGG":return d.isoWeekYear();case"wo":return l.ordinal(d.week(),"W");case"w":case"ww":return m.s(d.week(),c==="w"?1:2,"0");case"W":case"WW":return m.s(d.isoWeek(),c==="W"?1:2,"0");case"k":case"kk":return m.s(String(d.$H===0?24:d.$H),c==="k"?1:2,"0");case"X":return Math.floor(d.$d.getTime()/1e3);case"x":return d.$d.getTime();case"z":return"["+d.offsetName()+"]";case"zzz":return"["+d.offsetName("long")+"]";default:return c}});return s.bind(this)(h)}}})})(Be);var Dt=Be.exports;const jt=ae(Dt);E.extend(St);E.extend(yt);E.extend(Nt);E.extend(jt);const Et={YY:"year",YYYY:{sectionType:"year",contentType:"digit",maxLength:4},M:{sectionType:"month",contentType:"digit",maxLength:2},MM:"month",MMM:{sectionType:"month",contentType:"letter"},MMMM:{sectionType:"month",contentType:"letter"},D:{sectionType:"day",contentType:"digit",maxLength:2},DD:"day",Do:{sectionType:"day",contentType:"digit-with-letter"},d:{sectionType:"weekDay",contentType:"digit",maxLength:2},dd:{sectionType:"weekDay",contentType:"letter"},ddd:{sectionType:"weekDay",contentType:"letter"},dddd:{sectionType:"weekDay",contentType:"letter"},A:"meridiem",a:"meridiem",H:{sectionType:"hours",contentType:"digit",maxLength:2},HH:"hours",h:{sectionType:"hours",contentType:"digit",maxLength:2},hh:"hours",m:{sectionType:"minutes",contentType:"digit",maxLength:2},mm:"minutes",s:{sectionType:"seconds",contentType:"digit",maxLength:2},ss:"seconds"},Ct={year:"YYYY",month:"MMMM",monthShort:"MMM",dayOfMonth:"D",dayOfMonthFull:"Do",weekday:"dddd",weekdayShort:"dd",hours24h:"HH",hours12h:"hh",meridiem:"A",minutes:"mm",seconds:"ss",fullDate:"ll",keyboardDate:"L",shortDate:"MMM D",normalDate:"D MMMM",normalDateWithWeekday:"ddd, MMM D",fullTime:"LT",fullTime12h:"hh:mm A",fullTime24h:"HH:mm",keyboardDateTime:"L LT",keyboardDateTime12h:"L hh:mm A",keyboardDateTime24h:"L HH:mm"},Te=["Missing UTC plugin","To be able to use UTC or timezones, you have to enable the `utc` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-utc"].join(`
`),Le=["Missing timezone plugin","To be able to use timezones, you have to enable both the `utc` and the `timezone` plugin","Find more information on https://mui.com/x/react-date-pickers/timezone/#day-js-and-timezone"].join(`
`),At=(a,t)=>t?(...r)=>a(...r).locale(t):a;class Pt{constructor({locale:t,formats:r}={}){this.isMUIAdapter=!0,this.isTimezoneCompatible=!0,this.lib="dayjs",this.dayjs=void 0,this.locale=void 0,this.formats=void 0,this.escapedCharacters={start:"[",end:"]"},this.formatTokenMap=Et,this.setLocaleToValue=e=>{const n=this.getCurrentLocaleCode();return n===e.locale()?e:e.locale(n)},this.hasUTCPlugin=()=>typeof E.utc<"u",this.hasTimezonePlugin=()=>typeof E.tz<"u",this.isSame=(e,n,s)=>{const o=this.setTimezone(n,this.getTimezone(e));return e.format(s)===o.format(s)},this.cleanTimezone=e=>{switch(e){case"default":return;case"system":return E.tz.guess();default:return e}},this.createSystemDate=e=>{if(this.hasUTCPlugin()&&this.hasTimezonePlugin()){const n=E.tz.guess();return n!=="UTC"?E.tz(e,n):E(e)}return E(e)},this.createUTCDate=e=>{if(!this.hasUTCPlugin())throw new Error(Te);return E.utc(e)},this.createTZDate=(e,n)=>{if(!this.hasUTCPlugin())throw new Error(Te);if(!this.hasTimezonePlugin())throw new Error(Le);const s=e!==void 0&&!e.endsWith("Z");return E(e).tz(this.cleanTimezone(n),s)},this.getLocaleFormats=()=>{const e=E.Ls,n=this.locale||"en";let s=e[n];return s===void 0&&(s=e.en),s.formats},this.adjustOffset=e=>{if(!this.hasTimezonePlugin())return e;const n=this.getTimezone(e);if(n!=="UTC"){const s=e.tz(this.cleanTimezone(n),!0);if(s.$offset===(e.$offset??0))return e;e.$offset=s.$offset}return e},this.date=(e,n="default")=>{if(e===null)return null;let s;return n==="UTC"?s=this.createUTCDate(e):n==="system"||n==="default"&&!this.hasTimezonePlugin()?s=this.createSystemDate(e):s=this.createTZDate(e,n),this.locale===void 0?s:s.locale(this.locale)},this.getInvalidDate=()=>E(new Date("Invalid date")),this.getTimezone=e=>{var n;if(this.hasTimezonePlugin()){const s=(n=e.$x)==null?void 0:n.$timezone;if(s)return s}return this.hasUTCPlugin()&&e.isUTC()?"UTC":"system"},this.setTimezone=(e,n)=>{if(this.getTimezone(e)===n)return e;if(n==="UTC"){if(!this.hasUTCPlugin())throw new Error(Te);return e.utc()}if(n==="system")return e.local();if(!this.hasTimezonePlugin()){if(n==="default")return e;throw new Error(Le)}return E.tz(e,this.cleanTimezone(n))},this.toJsDate=e=>e.toDate(),this.parse=(e,n)=>e===""?null:this.dayjs(e,n,this.locale,!0),this.getCurrentLocaleCode=()=>this.locale||"en",this.is12HourCycleInCurrentLocale=()=>/A|a/.test(this.getLocaleFormats().LT||""),this.expandFormat=e=>{const n=this.getLocaleFormats(),s=o=>o.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(d,l,m)=>l||m.slice(1));return e.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(o,d,l)=>{const m=l&&l.toUpperCase();return d||n[l]||s(n[m])})},this.isValid=e=>e==null?!1:e.isValid(),this.format=(e,n)=>this.formatByString(e,this.formats[n]),this.formatByString=(e,n)=>this.dayjs(e).format(n),this.formatNumber=e=>e,this.isEqual=(e,n)=>e===null&&n===null?!0:e===null||n===null?!1:e.toDate().getTime()===n.toDate().getTime(),this.isSameYear=(e,n)=>this.isSame(e,n,"YYYY"),this.isSameMonth=(e,n)=>this.isSame(e,n,"YYYY-MM"),this.isSameDay=(e,n)=>this.isSame(e,n,"YYYY-MM-DD"),this.isSameHour=(e,n)=>e.isSame(n,"hour"),this.isAfter=(e,n)=>e>n,this.isAfterYear=(e,n)=>this.hasUTCPlugin()?!this.isSameYear(e,n)&&e.utc()>n.utc():e.isAfter(n,"year"),this.isAfterDay=(e,n)=>this.hasUTCPlugin()?!this.isSameDay(e,n)&&e.utc()>n.utc():e.isAfter(n,"day"),this.isBefore=(e,n)=>e<n,this.isBeforeYear=(e,n)=>this.hasUTCPlugin()?!this.isSameYear(e,n)&&e.utc()<n.utc():e.isBefore(n,"year"),this.isBeforeDay=(e,n)=>this.hasUTCPlugin()?!this.isSameDay(e,n)&&e.utc()<n.utc():e.isBefore(n,"day"),this.isWithinRange=(e,[n,s])=>e>=n&&e<=s,this.startOfYear=e=>this.adjustOffset(e.startOf("year")),this.startOfMonth=e=>this.adjustOffset(e.startOf("month")),this.startOfWeek=e=>this.adjustOffset(this.setLocaleToValue(e).startOf("week")),this.startOfDay=e=>this.adjustOffset(e.startOf("day")),this.endOfYear=e=>this.adjustOffset(e.endOf("year")),this.endOfMonth=e=>this.adjustOffset(e.endOf("month")),this.endOfWeek=e=>this.adjustOffset(this.setLocaleToValue(e).endOf("week")),this.endOfDay=e=>this.adjustOffset(e.endOf("day")),this.addYears=(e,n)=>this.adjustOffset(n<0?e.subtract(Math.abs(n),"year"):e.add(n,"year")),this.addMonths=(e,n)=>this.adjustOffset(n<0?e.subtract(Math.abs(n),"month"):e.add(n,"month")),this.addWeeks=(e,n)=>this.adjustOffset(n<0?e.subtract(Math.abs(n),"week"):e.add(n,"week")),this.addDays=(e,n)=>this.adjustOffset(n<0?e.subtract(Math.abs(n),"day"):e.add(n,"day")),this.addHours=(e,n)=>this.adjustOffset(n<0?e.subtract(Math.abs(n),"hour"):e.add(n,"hour")),this.addMinutes=(e,n)=>this.adjustOffset(n<0?e.subtract(Math.abs(n),"minute"):e.add(n,"minute")),this.addSeconds=(e,n)=>this.adjustOffset(n<0?e.subtract(Math.abs(n),"second"):e.add(n,"second")),this.getYear=e=>e.year(),this.getMonth=e=>e.month(),this.getDate=e=>e.date(),this.getHours=e=>e.hour(),this.getMinutes=e=>e.minute(),this.getSeconds=e=>e.second(),this.getMilliseconds=e=>e.millisecond(),this.setYear=(e,n)=>this.adjustOffset(e.set("year",n)),this.setMonth=(e,n)=>this.adjustOffset(e.set("month",n)),this.setDate=(e,n)=>this.adjustOffset(e.set("date",n)),this.setHours=(e,n)=>this.adjustOffset(e.set("hour",n)),this.setMinutes=(e,n)=>this.adjustOffset(e.set("minute",n)),this.setSeconds=(e,n)=>this.adjustOffset(e.set("second",n)),this.setMilliseconds=(e,n)=>this.adjustOffset(e.set("millisecond",n)),this.getDaysInMonth=e=>e.daysInMonth(),this.getWeekArray=e=>{const n=this.startOfWeek(this.startOfMonth(e)),s=this.endOfWeek(this.endOfMonth(e));let o=0,d=n;const l=[];for(;d<s;){const m=Math.floor(o/7);l[m]=l[m]||[],l[m].push(d),d=this.addDays(d,1),o+=1}return l},this.getWeekNumber=e=>e.week(),this.getYearRange=([e,n])=>{const s=this.startOfYear(e),o=this.endOfYear(n),d=[];let l=s;for(;this.isBefore(l,o);)d.push(l),l=this.addYears(l,1);return d},this.dayjs=At(E,t),this.locale=t,this.formats=ut({},Ct,r),E.extend(bt)}getDayOfWeek(t){return t.day()+1}}const Ot={components:{MuiBreadcrumbs:{defaultProps:{expandText:"Montrer le chemin"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:a=>a==="first"?"Aller à la première page":a==="last"?"Aller à la dernière page":a==="next"?"Aller à la page suivante":"Aller à la page précédente",labelRowsPerPage:"Lignes par page :",labelDisplayedRows:({from:a,to:t,count:r})=>`${a}–${t} sur ${r!==-1?r:`plus que ${t}`}`}},MuiRating:{defaultProps:{getLabelText:a=>`${a} Etoile${a!==1?"s":""}`,emptyLabelText:"Vide"}},MuiAutocomplete:{defaultProps:{clearText:"Vider",closeText:"Fermer",loadingText:"Chargement…",noOptionsText:"Pas de résultats",openText:"Ouvrir"}},MuiAlert:{defaultProps:{closeText:"Fermer"}},MuiPagination:{defaultProps:{"aria-label":"navigation de pagination",getItemAriaLabel:(a,t,r)=>a==="page"?`${r?"":"Aller à la "}page ${t}`:a==="first"?"Aller à la première page":a==="last"?"Aller à la dernière page":a==="next"?"Aller à la page suivante":"Aller à la page précédente"}}}};var kt={exports:{}};(function(a,t){(function(r,e){a.exports=e(Ve())})(se,function(r){function e(o){return o&&typeof o=="object"&&"default"in o?o:{default:o}}var n=e(r),s={name:"fr",weekdays:"dimanche_lundi_mardi_mercredi_jeudi_vendredi_samedi".split("_"),weekdaysShort:"dim._lun._mar._mer._jeu._ven._sam.".split("_"),weekdaysMin:"di_lu_ma_me_je_ve_sa".split("_"),months:"janvier_février_mars_avril_mai_juin_juillet_août_septembre_octobre_novembre_décembre".split("_"),monthsShort:"janv._févr._mars_avr._mai_juin_juil._août_sept._oct._nov._déc.".split("_"),weekStart:1,yearStart:4,formats:{LT:"HH:mm",LTS:"HH:mm:ss",L:"DD/MM/YYYY",LL:"D MMMM YYYY",LLL:"D MMMM YYYY HH:mm",LLLL:"dddd D MMMM YYYY HH:mm"},relativeTime:{future:"dans %s",past:"il y a %s",s:"quelques secondes",m:"une minute",mm:"%d minutes",h:"une heure",hh:"%d heures",d:"un jour",dd:"%d jours",M:"un mois",MM:"%d mois",y:"un an",yy:"%d ans"},ordinal:function(o){return""+o+(o===1?"er":"")}};return n.default.locale(s,null,!0),s})})(kt);function H(a){if(a===null||a===!0||a===!1)return NaN;var t=Number(a);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function T(a,t){if(t.length<a)throw new TypeError(a+" argument"+(a>1?"s":"")+" required, but only "+t.length+" present")}function C(a){T(1,arguments);var t=Object.prototype.toString.call(a);return a instanceof Date||ze(a)==="object"&&t==="[object Date]"?new Date(a.getTime()):typeof a=="number"||t==="[object Number]"?new Date(a):((typeof a=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function Xe(a,t){T(2,arguments);var r=C(a),e=H(t);return isNaN(e)?new Date(NaN):(e&&r.setDate(r.getDate()+e),r)}function Ue(a){T(1,arguments);var t=C(a),r=t.getDay();return r===0||r===6}function Yt(a){return T(1,arguments),C(a).getDay()===0}function Ne(a){return T(1,arguments),C(a).getDay()===6}function Lt(a,t){T(2,arguments);var r=C(a).getTime(),e=H(t);return new Date(r+e)}var Ut={};function oe(){return Ut}function De(a,t){var r,e,n,s,o,d,l,m;T(1,arguments);var h=oe(),c=H((r=(e=(n=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(d=o.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:h.weekStartsOn)!==null&&e!==void 0?e:(l=h.locale)===null||l===void 0||(m=l.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=C(a),f=p.getDay(),M=(f<c?7:0)+f-c;return p.setDate(p.getDate()-M),p.setHours(0,0,0,0),p}function _t(a){var t=new Date(Date.UTC(a.getFullYear(),a.getMonth(),a.getDate(),a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()));return t.setUTCFullYear(a.getFullYear()),a.getTime()-t.getTime()}function Pe(a,t){T(2,arguments);var r=H(t),e=r*7;return Xe(a,e)}function Rt(a){return T(1,arguments),a instanceof Date||ze(a)==="object"&&Object.prototype.toString.call(a)==="[object Date]"}function It(a){if(T(1,arguments),!Rt(a)&&typeof a!="number")return!1;var t=C(a);return!isNaN(Number(t))}function Wt(a,t){T(2,arguments);var r=H(t);return Lt(a,-r)}var $t=864e5;function Ft(a){T(1,arguments);var t=C(a),r=t.getTime();t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0);var e=t.getTime(),n=r-e;return Math.floor(n/$t)+1}function he(a){T(1,arguments);var t=1,r=C(a),e=r.getUTCDay(),n=(e<t?7:0)+e-t;return r.setUTCDate(r.getUTCDate()-n),r.setUTCHours(0,0,0,0),r}function Qe(a){T(1,arguments);var t=C(a),r=t.getUTCFullYear(),e=new Date(0);e.setUTCFullYear(r+1,0,4),e.setUTCHours(0,0,0,0);var n=he(e),s=new Date(0);s.setUTCFullYear(r,0,4),s.setUTCHours(0,0,0,0);var o=he(s);return t.getTime()>=n.getTime()?r+1:t.getTime()>=o.getTime()?r:r-1}function Ht(a){T(1,arguments);var t=Qe(a),r=new Date(0);r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0);var e=he(r);return e}var zt=6048e5;function Vt(a){T(1,arguments);var t=C(a),r=he(t).getTime()-Ht(t).getTime();return Math.round(r/zt)+1}function fe(a,t){var r,e,n,s,o,d,l,m;T(1,arguments);var h=oe(),c=H((r=(e=(n=(s=t==null?void 0:t.weekStartsOn)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(d=o.options)===null||d===void 0?void 0:d.weekStartsOn)!==null&&n!==void 0?n:h.weekStartsOn)!==null&&e!==void 0?e:(l=h.locale)===null||l===void 0||(m=l.options)===null||m===void 0?void 0:m.weekStartsOn)!==null&&r!==void 0?r:0);if(!(c>=0&&c<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var p=C(a),f=p.getUTCDay(),M=(f<c?7:0)+f-c;return p.setUTCDate(p.getUTCDate()-M),p.setUTCHours(0,0,0,0),p}function Ze(a,t){var r,e,n,s,o,d,l,m;T(1,arguments);var h=C(a),c=h.getUTCFullYear(),p=oe(),f=H((r=(e=(n=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(d=o.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:p.firstWeekContainsDate)!==null&&e!==void 0?e:(l=p.locale)===null||l===void 0||(m=l.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&r!==void 0?r:1);if(!(f>=1&&f<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var M=new Date(0);M.setUTCFullYear(c+1,0,f),M.setUTCHours(0,0,0,0);var N=fe(M,t),g=new Date(0);g.setUTCFullYear(c,0,f),g.setUTCHours(0,0,0,0);var x=fe(g,t);return h.getTime()>=N.getTime()?c+1:h.getTime()>=x.getTime()?c:c-1}function Jt(a,t){var r,e,n,s,o,d,l,m;T(1,arguments);var h=oe(),c=H((r=(e=(n=(s=t==null?void 0:t.firstWeekContainsDate)!==null&&s!==void 0?s:t==null||(o=t.locale)===null||o===void 0||(d=o.options)===null||d===void 0?void 0:d.firstWeekContainsDate)!==null&&n!==void 0?n:h.firstWeekContainsDate)!==null&&e!==void 0?e:(l=h.locale)===null||l===void 0||(m=l.options)===null||m===void 0?void 0:m.firstWeekContainsDate)!==null&&r!==void 0?r:1),p=Ze(a,t),f=new Date(0);f.setUTCFullYear(p,0,c),f.setUTCHours(0,0,0,0);var M=fe(f,t);return M}var qt=6048e5;function Kt(a,t){T(1,arguments);var r=C(a),e=fe(r,t).getTime()-Jt(r,t).getTime();return Math.round(e/qt)+1}function S(a,t){for(var r=a<0?"-":"",e=Math.abs(a).toString();e.length<t;)e="0"+e;return r+e}var X={y:function(t,r){var e=t.getUTCFullYear(),n=e>0?e:1-e;return S(r==="yy"?n%100:n,r.length)},M:function(t,r){var e=t.getUTCMonth();return r==="M"?String(e+1):S(e+1,2)},d:function(t,r){return S(t.getUTCDate(),r.length)},a:function(t,r){var e=t.getUTCHours()/12>=1?"pm":"am";switch(r){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h:function(t,r){return S(t.getUTCHours()%12||12,r.length)},H:function(t,r){return S(t.getUTCHours(),r.length)},m:function(t,r){return S(t.getUTCMinutes(),r.length)},s:function(t,r){return S(t.getUTCSeconds(),r.length)},S:function(t,r){var e=r.length,n=t.getUTCMilliseconds(),s=Math.floor(n*Math.pow(10,e-3));return S(s,r.length)}},te={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Gt={G:function(t,r,e){var n=t.getUTCFullYear()>0?1:0;switch(r){case"G":case"GG":case"GGG":return e.era(n,{width:"abbreviated"});case"GGGGG":return e.era(n,{width:"narrow"});case"GGGG":default:return e.era(n,{width:"wide"})}},y:function(t,r,e){if(r==="yo"){var n=t.getUTCFullYear(),s=n>0?n:1-n;return e.ordinalNumber(s,{unit:"year"})}return X.y(t,r)},Y:function(t,r,e,n){var s=Ze(t,n),o=s>0?s:1-s;if(r==="YY"){var d=o%100;return S(d,2)}return r==="Yo"?e.ordinalNumber(o,{unit:"year"}):S(o,r.length)},R:function(t,r){var e=Qe(t);return S(e,r.length)},u:function(t,r){var e=t.getUTCFullYear();return S(e,r.length)},Q:function(t,r,e){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"Q":return String(n);case"QQ":return S(n,2);case"Qo":return e.ordinalNumber(n,{unit:"quarter"});case"QQQ":return e.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,r,e){var n=Math.ceil((t.getUTCMonth()+1)/3);switch(r){case"q":return String(n);case"qq":return S(n,2);case"qo":return e.ordinalNumber(n,{unit:"quarter"});case"qqq":return e.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,r,e){var n=t.getUTCMonth();switch(r){case"M":case"MM":return X.M(t,r);case"Mo":return e.ordinalNumber(n+1,{unit:"month"});case"MMM":return e.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(n,{width:"wide",context:"formatting"})}},L:function(t,r,e){var n=t.getUTCMonth();switch(r){case"L":return String(n+1);case"LL":return S(n+1,2);case"Lo":return e.ordinalNumber(n+1,{unit:"month"});case"LLL":return e.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(n,{width:"wide",context:"standalone"})}},w:function(t,r,e,n){var s=Kt(t,n);return r==="wo"?e.ordinalNumber(s,{unit:"week"}):S(s,r.length)},I:function(t,r,e){var n=Vt(t);return r==="Io"?e.ordinalNumber(n,{unit:"week"}):S(n,r.length)},d:function(t,r,e){return r==="do"?e.ordinalNumber(t.getUTCDate(),{unit:"date"}):X.d(t,r)},D:function(t,r,e){var n=Ft(t);return r==="Do"?e.ordinalNumber(n,{unit:"dayOfYear"}):S(n,r.length)},E:function(t,r,e){var n=t.getUTCDay();switch(r){case"E":case"EE":case"EEE":return e.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(n,{width:"short",context:"formatting"});case"EEEE":default:return e.day(n,{width:"wide",context:"formatting"})}},e:function(t,r,e,n){var s=t.getUTCDay(),o=(s-n.weekStartsOn+8)%7||7;switch(r){case"e":return String(o);case"ee":return S(o,2);case"eo":return e.ordinalNumber(o,{unit:"day"});case"eee":return e.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(s,{width:"short",context:"formatting"});case"eeee":default:return e.day(s,{width:"wide",context:"formatting"})}},c:function(t,r,e,n){var s=t.getUTCDay(),o=(s-n.weekStartsOn+8)%7||7;switch(r){case"c":return String(o);case"cc":return S(o,r.length);case"co":return e.ordinalNumber(o,{unit:"day"});case"ccc":return e.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(s,{width:"narrow",context:"standalone"});case"cccccc":return e.day(s,{width:"short",context:"standalone"});case"cccc":default:return e.day(s,{width:"wide",context:"standalone"})}},i:function(t,r,e){var n=t.getUTCDay(),s=n===0?7:n;switch(r){case"i":return String(s);case"ii":return S(s,r.length);case"io":return e.ordinalNumber(s,{unit:"day"});case"iii":return e.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(n,{width:"short",context:"formatting"});case"iiii":default:return e.day(n,{width:"wide",context:"formatting"})}},a:function(t,r,e){var n=t.getUTCHours(),s=n/12>=1?"pm":"am";switch(r){case"a":case"aa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,r,e){var n=t.getUTCHours(),s;switch(n===12?s=te.noon:n===0?s=te.midnight:s=n/12>=1?"pm":"am",r){case"b":case"bb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,r,e){var n=t.getUTCHours(),s;switch(n>=17?s=te.evening:n>=12?s=te.afternoon:n>=4?s=te.morning:s=te.night,r){case"B":case"BB":case"BBB":return e.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,r,e){if(r==="ho"){var n=t.getUTCHours()%12;return n===0&&(n=12),e.ordinalNumber(n,{unit:"hour"})}return X.h(t,r)},H:function(t,r,e){return r==="Ho"?e.ordinalNumber(t.getUTCHours(),{unit:"hour"}):X.H(t,r)},K:function(t,r,e){var n=t.getUTCHours()%12;return r==="Ko"?e.ordinalNumber(n,{unit:"hour"}):S(n,r.length)},k:function(t,r,e){var n=t.getUTCHours();return n===0&&(n=24),r==="ko"?e.ordinalNumber(n,{unit:"hour"}):S(n,r.length)},m:function(t,r,e){return r==="mo"?e.ordinalNumber(t.getUTCMinutes(),{unit:"minute"}):X.m(t,r)},s:function(t,r,e){return r==="so"?e.ordinalNumber(t.getUTCSeconds(),{unit:"second"}):X.s(t,r)},S:function(t,r){return X.S(t,r)},X:function(t,r,e,n){var s=n._originalDate||t,o=s.getTimezoneOffset();if(o===0)return"Z";switch(r){case"X":return Re(o);case"XXXX":case"XX":return Z(o);case"XXXXX":case"XXX":default:return Z(o,":")}},x:function(t,r,e,n){var s=n._originalDate||t,o=s.getTimezoneOffset();switch(r){case"x":return Re(o);case"xxxx":case"xx":return Z(o);case"xxxxx":case"xxx":default:return Z(o,":")}},O:function(t,r,e,n){var s=n._originalDate||t,o=s.getTimezoneOffset();switch(r){case"O":case"OO":case"OOO":return"GMT"+_e(o,":");case"OOOO":default:return"GMT"+Z(o,":")}},z:function(t,r,e,n){var s=n._originalDate||t,o=s.getTimezoneOffset();switch(r){case"z":case"zz":case"zzz":return"GMT"+_e(o,":");case"zzzz":default:return"GMT"+Z(o,":")}},t:function(t,r,e,n){var s=n._originalDate||t,o=Math.floor(s.getTime()/1e3);return S(o,r.length)},T:function(t,r,e,n){var s=n._originalDate||t,o=s.getTime();return S(o,r.length)}};function _e(a,t){var r=a>0?"-":"+",e=Math.abs(a),n=Math.floor(e/60),s=e%60;if(s===0)return r+String(n);var o=t;return r+String(n)+o+S(s,2)}function Re(a,t){if(a%60===0){var r=a>0?"-":"+";return r+S(Math.abs(a)/60,2)}return Z(a,t)}function Z(a,t){var r=t||"",e=a>0?"-":"+",n=Math.abs(a),s=S(Math.floor(n/60),2),o=S(n%60,2);return e+s+r+o}var Ie=function(t,r){switch(t){case"P":return r.date({width:"short"});case"PP":return r.date({width:"medium"});case"PPP":return r.date({width:"long"});case"PPPP":default:return r.date({width:"full"})}},et=function(t,r){switch(t){case"p":return r.time({width:"short"});case"pp":return r.time({width:"medium"});case"ppp":return r.time({width:"long"});case"pppp":default:return r.time({width:"full"})}},Bt=function(t,r){var e=t.match(/(P+)(p+)?/)||[],n=e[1],s=e[2];if(!s)return Ie(t,r);var o;switch(n){case"P":o=r.dateTime({width:"short"});break;case"PP":o=r.dateTime({width:"medium"});break;case"PPP":o=r.dateTime({width:"long"});break;case"PPPP":default:o=r.dateTime({width:"full"});break}return o.replace("{{date}}",Ie(n,r)).replace("{{time}}",et(s,r))},Xt={p:et,P:Bt},Qt=["D","DD"],Zt=["YY","YYYY"];function er(a){return Qt.indexOf(a)!==-1}function tr(a){return Zt.indexOf(a)!==-1}function We(a,t,r){if(a==="YYYY")throw new RangeError("Use `yyyy` instead of `YYYY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="YY")throw new RangeError("Use `yy` instead of `YY` (in `".concat(t,"`) for formatting years to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="D")throw new RangeError("Use `d` instead of `D` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"));if(a==="DD")throw new RangeError("Use `dd` instead of `DD` (in `".concat(t,"`) for formatting days of the month to the input `").concat(r,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md"))}var rr={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},nr=function(t,r,e){var n,s=rr[t];return typeof s=="string"?n=s:r===1?n=s.one:n=s.other.replace("{{count}}",r.toString()),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"in "+n:n+" ago":n};function ne(a){return function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=t.width?String(t.width):a.defaultWidth,e=a.formats[r]||a.formats[a.defaultWidth];return e}}var ar={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sr={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ir={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},or={date:ne({formats:ar,defaultWidth:"full"}),time:ne({formats:sr,defaultWidth:"full"}),dateTime:ne({formats:ir,defaultWidth:"full"})},dr={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},lr=function(t,r,e,n){return dr[t]};function J(a){return function(t,r){var e=r!=null&&r.context?String(r.context):"standalone",n;if(e==="formatting"&&a.formattingValues){var s=a.defaultFormattingWidth||a.defaultWidth,o=r!=null&&r.width?String(r.width):s;n=a.formattingValues[o]||a.formattingValues[s]}else{var d=a.defaultWidth,l=r!=null&&r.width?String(r.width):a.defaultWidth;n=a.values[l]||a.values[d]}var m=a.argumentCallback?a.argumentCallback(t):t;return n[m]}}var ur={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},cr={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},mr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},hr={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},fr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},gr={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},pr=function(t,r){var e=Number(t),n=e%100;if(n>20||n<10)switch(n%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},vr={ordinalNumber:pr,era:J({values:ur,defaultWidth:"wide"}),quarter:J({values:cr,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:J({values:mr,defaultWidth:"wide"}),day:J({values:hr,defaultWidth:"wide"}),dayPeriod:J({values:fr,defaultWidth:"wide",formattingValues:gr,defaultFormattingWidth:"wide"})};function q(a){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=r.width,n=e&&a.matchPatterns[e]||a.matchPatterns[a.defaultMatchWidth],s=t.match(n);if(!s)return null;var o=s[0],d=e&&a.parsePatterns[e]||a.parsePatterns[a.defaultParseWidth],l=Array.isArray(d)?yr(d,function(c){return c.test(o)}):xr(d,function(c){return c.test(o)}),m;m=a.valueCallback?a.valueCallback(l):l,m=r.valueCallback?r.valueCallback(m):m;var h=t.slice(o.length);return{value:m,rest:h}}}function xr(a,t){for(var r in a)if(a.hasOwnProperty(r)&&t(a[r]))return r}function yr(a,t){for(var r=0;r<a.length;r++)if(t(a[r]))return r}function tt(a){return function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},e=t.match(a.matchPattern);if(!e)return null;var n=e[0],s=t.match(a.parsePattern);if(!s)return null;var o=a.valueCallback?a.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;var d=t.slice(n.length);return{value:o,rest:d}}}var wr=/^(\d+)(th|st|nd|rd)?/i,br=/\d+/i,Mr={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Sr={any:[/^b/i,/^(a|c)/i]},Tr={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Nr={any:[/1/i,/2/i,/3/i,/4/i]},Dr={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},jr={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Er={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Cr={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Ar={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Pr={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Or={ordinalNumber:tt({matchPattern:wr,parsePattern:br,valueCallback:function(t){return parseInt(t,10)}}),era:q({matchPatterns:Mr,defaultMatchWidth:"wide",parsePatterns:Sr,defaultParseWidth:"any"}),quarter:q({matchPatterns:Tr,defaultMatchWidth:"wide",parsePatterns:Nr,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:q({matchPatterns:Dr,defaultMatchWidth:"wide",parsePatterns:jr,defaultParseWidth:"any"}),day:q({matchPatterns:Er,defaultMatchWidth:"wide",parsePatterns:Cr,defaultParseWidth:"any"}),dayPeriod:q({matchPatterns:Ar,defaultMatchWidth:"any",parsePatterns:Pr,defaultParseWidth:"any"})},kr={code:"en-US",formatDistance:nr,formatLong:or,formatRelative:lr,localize:vr,match:Or,options:{weekStartsOn:0,firstWeekContainsDate:1}},Yr=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Lr=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ur=/^'([^]*?)'?$/,_r=/''/g,Rr=/[a-zA-Z]/;function B(a,t,r){var e,n,s,o,d,l,m,h,c,p,f,M,N,g,x,y,b,A;T(2,arguments);var $=String(t),F=oe(),Y=(e=(n=r==null?void 0:r.locale)!==null&&n!==void 0?n:F.locale)!==null&&e!==void 0?e:kr,L=H((s=(o=(d=(l=r==null?void 0:r.firstWeekContainsDate)!==null&&l!==void 0?l:r==null||(m=r.locale)===null||m===void 0||(h=m.options)===null||h===void 0?void 0:h.firstWeekContainsDate)!==null&&d!==void 0?d:F.firstWeekContainsDate)!==null&&o!==void 0?o:(c=F.locale)===null||c===void 0||(p=c.options)===null||p===void 0?void 0:p.firstWeekContainsDate)!==null&&s!==void 0?s:1);if(!(L>=1&&L<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var U=H((f=(M=(N=(g=r==null?void 0:r.weekStartsOn)!==null&&g!==void 0?g:r==null||(x=r.locale)===null||x===void 0||(y=x.options)===null||y===void 0?void 0:y.weekStartsOn)!==null&&N!==void 0?N:F.weekStartsOn)!==null&&M!==void 0?M:(b=F.locale)===null||b===void 0||(A=b.options)===null||A===void 0?void 0:A.weekStartsOn)!==null&&f!==void 0?f:0);if(!(U>=0&&U<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!Y.localize)throw new RangeError("locale must contain localize property");if(!Y.formatLong)throw new RangeError("locale must contain formatLong property");var R=C(a);if(!It(R))throw new RangeError("Invalid time value");var z=_t(R),I=Wt(R,z),_={firstWeekContainsDate:L,weekStartsOn:U,locale:Y,_originalDate:R},V=$.match(Lr).map(function(D){var O=D[0];if(O==="p"||O==="P"){var K=Xt[O];return K(D,Y.formatLong)}return D}).join("").match(Yr).map(function(D){if(D==="''")return"'";var O=D[0];if(O==="'")return Ir(D);var K=Gt[O];if(K)return!(r!=null&&r.useAdditionalWeekYearTokens)&&tr(D)&&We(D,t,String(a)),!(r!=null&&r.useAdditionalDayOfYearTokens)&&er(D)&&We(D,t,String(a)),K(I,D,Y.localize,_);if(O.match(Rr))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");return D}).join("");return V}function Ir(a){var t=a.match(Ur);return t?t[1].replace(_r,"'"):a}function je(a){return T(1,arguments),C(a).getDay()===1}function Wr(a,t){T(2,arguments);var r=C(a).getTime(),e=C(t.start).getTime(),n=C(t.end).getTime();if(!(e<=n))throw new RangeError("Invalid interval");return r>=e&&r<=n}function $r(a,t){T(2,arguments);var r=H(t);return Pe(a,-r)}var Fr={lessThanXSeconds:{one:"moins d’une seconde",other:"moins de {{count}} secondes"},xSeconds:{one:"1 seconde",other:"{{count}} secondes"},halfAMinute:"30 secondes",lessThanXMinutes:{one:"moins d’une minute",other:"moins de {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"environ 1 heure",other:"environ {{count}} heures"},xHours:{one:"1 heure",other:"{{count}} heures"},xDays:{one:"1 jour",other:"{{count}} jours"},aboutXWeeks:{one:"environ 1 semaine",other:"environ {{count}} semaines"},xWeeks:{one:"1 semaine",other:"{{count}} semaines"},aboutXMonths:{one:"environ 1 mois",other:"environ {{count}} mois"},xMonths:{one:"1 mois",other:"{{count}} mois"},aboutXYears:{one:"environ 1 an",other:"environ {{count}} ans"},xYears:{one:"1 an",other:"{{count}} ans"},overXYears:{one:"plus d’un an",other:"plus de {{count}} ans"},almostXYears:{one:"presqu’un an",other:"presque {{count}} ans"}},Hr=function(t,r,e){var n,s=Fr[t];return typeof s=="string"?n=s:r===1?n=s.one:n=s.other.replace("{{count}}",String(r)),e!=null&&e.addSuffix?e.comparison&&e.comparison>0?"dans "+n:"il y a "+n:n},zr={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},Vr={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Jr={full:"{{date}} 'à' {{time}}",long:"{{date}} 'à' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},qr={date:ne({formats:zr,defaultWidth:"full"}),time:ne({formats:Vr,defaultWidth:"full"}),dateTime:ne({formats:Jr,defaultWidth:"full"})},Kr={lastWeek:"eeee 'dernier à' p",yesterday:"'hier à' p",today:"'aujourd’hui à' p",tomorrow:"'demain à' p'",nextWeek:"eeee 'prochain à' p",other:"P"},Gr=function(t,r,e,n){return Kr[t]},Br={narrow:["av. J.-C","ap. J.-C"],abbreviated:["av. J.-C","ap. J.-C"],wide:["avant Jésus-Christ","après Jésus-Christ"]},Xr={narrow:["T1","T2","T3","T4"],abbreviated:["1er trim.","2ème trim.","3ème trim.","4ème trim."],wide:["1er trimestre","2ème trimestre","3ème trimestre","4ème trimestre"]},Qr={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc."],wide:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre"]},Zr={narrow:["D","L","M","M","J","V","S"],short:["di","lu","ma","me","je","ve","sa"],abbreviated:["dim.","lun.","mar.","mer.","jeu.","ven.","sam."],wide:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"]},en={narrow:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"mat.",afternoon:"ap.m.",evening:"soir",night:"mat."},abbreviated:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"matin",afternoon:"après-midi",evening:"soir",night:"matin"},wide:{am:"AM",pm:"PM",midnight:"minuit",noon:"midi",morning:"du matin",afternoon:"de l’après-midi",evening:"du soir",night:"du matin"}},tn=function(t,r){var e=Number(t),n=r==null?void 0:r.unit;if(e===0)return"0";var s=["year","week","hour","minute","second"],o;return e===1?o=n&&s.includes(n)?"ère":"er":o="ème",e+o},rn={ordinalNumber:tn,era:J({values:Br,defaultWidth:"wide"}),quarter:J({values:Xr,defaultWidth:"wide",argumentCallback:function(t){return t-1}}),month:J({values:Qr,defaultWidth:"wide"}),day:J({values:Zr,defaultWidth:"wide"}),dayPeriod:J({values:en,defaultWidth:"wide"})},nn=/^(\d+)(ième|ère|ème|er|e)?/i,an=/\d+/i,sn={narrow:/^(av\.J\.C|ap\.J\.C|ap\.J\.-C)/i,abbreviated:/^(av\.J\.-C|av\.J-C|apr\.J\.-C|apr\.J-C|ap\.J-C)/i,wide:/^(avant Jésus-Christ|après Jésus-Christ)/i},on={any:[/^av/i,/^ap/i]},dn={narrow:/^T?[1234]/i,abbreviated:/^[1234](er|ème|e)? trim\.?/i,wide:/^[1234](er|ème|e)? trimestre/i},ln={any:[/1/i,/2/i,/3/i,/4/i]},un={narrow:/^[jfmasond]/i,abbreviated:/^(janv|févr|mars|avr|mai|juin|juill|juil|août|sept|oct|nov|déc)\.?/i,wide:/^(janvier|février|mars|avril|mai|juin|juillet|août|septembre|octobre|novembre|décembre)/i},cn={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^av/i,/^ma/i,/^juin/i,/^juil/i,/^ao/i,/^s/i,/^o/i,/^n/i,/^d/i]},mn={narrow:/^[lmjvsd]/i,short:/^(di|lu|ma|me|je|ve|sa)/i,abbreviated:/^(dim|lun|mar|mer|jeu|ven|sam)\.?/i,wide:/^(dimanche|lundi|mardi|mercredi|jeudi|vendredi|samedi)/i},hn={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^di/i,/^lu/i,/^ma/i,/^me/i,/^je/i,/^ve/i,/^sa/i]},fn={narrow:/^(a|p|minuit|midi|mat\.?|ap\.?m\.?|soir|nuit)/i,any:/^([ap]\.?\s?m\.?|du matin|de l'après[-\s]midi|du soir|de la nuit)/i},gn={any:{am:/^a/i,pm:/^p/i,midnight:/^min/i,noon:/^mid/i,morning:/mat/i,afternoon:/ap/i,evening:/soir/i,night:/nuit/i}},pn={ordinalNumber:tt({matchPattern:nn,parsePattern:an,valueCallback:function(t){return parseInt(t)}}),era:q({matchPatterns:sn,defaultMatchWidth:"wide",parsePatterns:on,defaultParseWidth:"any"}),quarter:q({matchPatterns:dn,defaultMatchWidth:"wide",parsePatterns:ln,defaultParseWidth:"any",valueCallback:function(t){return t+1}}),month:q({matchPatterns:un,defaultMatchWidth:"wide",parsePatterns:cn,defaultParseWidth:"any"}),day:q({matchPatterns:mn,defaultMatchWidth:"wide",parsePatterns:hn,defaultParseWidth:"any"}),dayPeriod:q({matchPatterns:fn,defaultMatchWidth:"any",parsePatterns:gn,defaultParseWidth:"any"})},ie={code:"fr",formatDistance:Hr,formatLong:qr,formatRelative:Gr,localize:rn,match:pn,options:{weekStartsOn:1,firstWeekContainsDate:4}};const vn=["Lionel","Eugène","Stephane","Philippe","Nassim"],u={MAT1:"MAT1",MAT2:"MAT2",AM1:"AM1",AM2:"AM2",REMPLACANT:"REMPLACANT"},me=20,Ee=new Date("2024-10-14"),xn=({weekSchedule:a})=>{const t=e=>{if(e.isAbsent)return"schedule-conge";if(e.isRecuperation)return"schedule-recuperation";switch(e.poste){case u.MAT1:return"schedule-mat1";case u.MAT2:return"schedule-mat2";case u.AM1:return"schedule-am1";case u.AM2:return"schedule-am2";case u.REMPLACANT:return"schedule-remplacant";default:return""}},r=e=>{const n=t(e);let s=e.chef;return e.isRecuperation?s+=" - Récupération":e.isReplacing?s+=` - ${e.poste}`:e.isAbsent||(s+=` - ${e.poste}`),i.jsx("div",{className:`schedule-cell ${n} neon-text`,children:s})};return i.jsxs("div",{className:"space-y-6",children:[i.jsxs("div",{className:"mb-4",children:[i.jsxs("h2",{className:"neon-text text-xl font-bold mb-2",children:["Cycle ",a.cycleNumber," - Semaine ",a.weekInCycle]}),i.jsxs("div",{className:"neon-text text-sm opacity-80",children:["Du ",B(a.startDate,"dd/MM/yyyy")," au"," ",B(Xe(a.startDate,6),"dd/MM/yyyy")]})]}),i.jsx("div",{className:"space-y-4",children:Object.entries(a.schedule).map(([e,n])=>{const s=new Date(e),o=[u.MAT1,u.REMPLACANT,u.MAT2,u.AM1,u.AM2],d=[...n].sort((l,m)=>{const h=l.poste,c=m.poste;return o.indexOf(h)-o.indexOf(c)});return i.jsxs("div",{className:"neon-card p-4 rounded-lg",children:[i.jsx("div",{className:"neon-text font-medium mb-3",children:B(s,"EEEE dd/MM",{locale:ie})}),i.jsx("div",{className:"schedule-grid",children:d.map((l,m)=>i.jsx("div",{className:"schedule-day",children:r(l)},m))})]},e)})}),i.jsxs("div",{className:"neon-card p-4 rounded-lg",children:[i.jsx("div",{className:"neon-text font-medium mb-3",children:"Légende"}),i.jsxs("div",{className:"schedule-grid",children:[i.jsx("div",{className:"schedule-cell schedule-mat1 neon-text",children:"MAT1"}),i.jsx("div",{className:"schedule-cell schedule-mat2 neon-text",children:"MAT2"}),i.jsx("div",{className:"schedule-cell schedule-am1 neon-text",children:"AM1"}),i.jsx("div",{className:"schedule-cell schedule-am2 neon-text",children:"AM2"}),i.jsx("div",{className:"schedule-cell schedule-remplacant neon-text",children:"Remplaçant"})]}),i.jsxs("div",{className:"schedule-grid mt-3",style:{gridTemplateColumns:"repeat(2, 1fr)"},children:[i.jsx("div",{className:"schedule-cell schedule-conge neon-text",children:"En congé"}),i.jsx("div",{className:"schedule-cell schedule-recuperation neon-text",children:"Récupération"})]})]})]})},yn=["Lionel","Eugène","Stephane","Philippe","Nassim"],wn=({onSubmit:a,onCancel:t})=>{const[r,e]=w.useState(new Date),[n,s]=w.useState(new Date),[o,d]=w.useState("Congé"),[l,m]=w.useState("Lionel"),h=c=>{c.preventDefault(),a({chef:l,startDate:r,endDate:n,type:o}),e(new Date),s(new Date),d("Congé"),m("Lionel")};return i.jsxs("form",{onSubmit:h,className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 neon-text",children:"Chef"}),i.jsx("select",{value:l,onChange:c=>m(c.target.value),className:"neon-input w-full p-2 rounded",children:yn.map(c=>i.jsx("option",{value:c,children:c},c))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 neon-text",children:"Type de congé"}),i.jsxs("select",{value:o,onChange:c=>d(c.target.value),className:"neon-input w-full p-2 rounded",children:[i.jsx("option",{value:"CP",children:"Congés payés"}),i.jsx("option",{value:"RTT",children:"RTT"}),i.jsx("option",{value:"Maladie",children:"Maladie"}),i.jsx("option",{value:"Formation",children:"Formation"}),i.jsx("option",{value:"Congé",children:"Congé"}),i.jsx("option",{value:"Récupération",children:"Récupération"}),i.jsx("option",{value:"Autre",children:"Autre"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 neon-text",children:"Date de début"}),i.jsx("input",{type:"date",value:r.toISOString().split("T")[0],onChange:c=>e(new Date(c.target.value)),className:"neon-input w-full p-2 rounded"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium mb-1 neon-text",children:"Date de fin"}),i.jsx("input",{type:"date",value:n.toISOString().split("T")[0],onChange:c=>s(new Date(c.target.value)),className:"neon-input w-full p-2 rounded"})]}),i.jsxs("div",{className:"flex justify-end space-x-4",children:[i.jsx("button",{type:"button",onClick:t,className:"neon-button-secondary px-4 py-2 rounded",children:"Annuler"}),i.jsx("button",{type:"submit",className:"neon-button px-4 py-2 rounded",children:"Ajouter"})]})]})},P=[];for(let a=0;a<256;++a)P.push((a+256).toString(16).slice(1));function bn(a,t=0){return(P[a[t+0]]+P[a[t+1]]+P[a[t+2]]+P[a[t+3]]+"-"+P[a[t+4]]+P[a[t+5]]+"-"+P[a[t+6]]+P[a[t+7]]+"-"+P[a[t+8]]+P[a[t+9]]+"-"+P[a[t+10]]+P[a[t+11]]+P[a[t+12]]+P[a[t+13]]+P[a[t+14]]+P[a[t+15]]).toLowerCase()}let Ce;const Mn=new Uint8Array(16);function Sn(){if(!Ce){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");Ce=crypto.getRandomValues.bind(crypto)}return Ce(Mn)}const Tn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),$e={randomUUID:Tn};function Nn(a,t,r){if($e.randomUUID&&!t&&!a)return $e.randomUUID();a=a||{};const e=a.random||(a.rng||Sn)();return e[6]=e[6]&15|64,e[8]=e[8]&63|128,bn(e)}const Dn=({vacations:a,onVacationChange:t})=>{const[r,e]=w.useState(!1),n=d=>{const l={...d,id:Nn()};t([...a,l]),e(!1)},s=d=>{t(a.filter(l=>l.id!==d))},o=d=>{switch(d){case"CP":return"Congés payés";case"RTT":return"RTT";case"Maladie":return"Maladie";case"Formation":return"Formation";case"Congé":return"Congé";case"Récupération":return"Récupération";default:return"Autre"}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h2",{className:"text-xl font-bold neon-text",children:"Gestion des absences"}),i.jsx("button",{onClick:()=>e(!0),className:"neon-button px-4 py-2 rounded",children:"Ajouter une absence"})]}),r&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:i.jsxs("div",{className:"neon-card p-6 max-w-md w-full",children:[i.jsx("h3",{className:"text-lg font-bold mb-4 neon-text",children:"Nouvelle absence"}),i.jsx(wn,{onSubmit:n,onCancel:()=>e(!1)})]})}),i.jsx("div",{className:"grid gap-4",children:a.map(d=>i.jsxs("div",{className:"neon-card p-4 rounded-lg flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"font-medium neon-text",children:[d.chef," - ",o(d.type)]}),i.jsxs("div",{className:"text-sm text-cyan-300",children:[B(new Date(d.startDate),"dd/MM/yyyy",{locale:ie})," → ",B(new Date(d.endDate),"dd/MM/yyyy",{locale:ie})]})]}),i.jsx("button",{onClick:()=>s(d.id),className:"neon-button-danger px-3 py-1 rounded",children:"Supprimer"})]},d.id))})]})},jn=({currentDate:a,onDateChange:t})=>{const r=()=>{t($r(a,1))},e=()=>{t(Pe(a,1))},n=B(a,"dd/MM/yyyy",{locale:ie}),s=B(Pe(a,1),"dd/MM/yyyy",{locale:ie});return i.jsxs("div",{className:"flex items-center justify-between p-2",children:[i.jsx("button",{onClick:r,className:"neon-button px-4 py-2 rounded-md text-sm",children:"← Semaine précédente"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("div",{className:"neon-text text-lg font-medium",children:[n," - ",s]}),i.jsx("div",{className:"neon-card p-1 rounded-md",children:i.jsx(ct,{value:E(a),onChange:o=>o&&t(o.toDate()),format:"DD/MM/YYYY",className:"date-picker-field",slotProps:{textField:{size:"small",className:"date-picker-field",inputProps:{"aria-label":"Sélectionner une date"}},openPickerButton:{className:"neon-button p-1 rounded-md"}}})})]}),i.jsx("button",{onClick:e,className:"neon-button px-4 py-2 rounded-md text-sm",children:"Semaine suivante →"})]})},re={EUGENE_WORKED_SATURDAY:"eugeneWorkedSaturday",VACATIONS:"vacations"},En=a=>{try{return btoa(JSON.stringify(a))}catch(t){return console.error("Erreur lors de l'encodage des données:",t),""}},Cn=a=>{if(!a)return null;try{const t=atob(a);return JSON.parse(t)}catch(t){return console.error("Erreur lors du décodage des données:",t),null}},ge=a=>a instanceof Date&&!isNaN(a.getTime()),Fe=a=>a&&typeof a.chef=="string"&&ge(new Date(a.startDate))&&ge(new Date(a.endDate))&&typeof a.type=="string",v={setItem(a,t){try{const r=En(t);localStorage.setItem(a,r)}catch(r){console.error("Erreur lors du stockage des données:",r)}},getItem(a){try{const t=localStorage.getItem(a);return Cn(t)}catch(t){return console.error("Erreur lors de la récupération des données:",t),null}},removeItem(a){try{localStorage.removeItem(a)}catch(t){console.error("Erreur lors de la suppression des données:",t)}},setEugeneWorkedSaturday:a=>{if(!ge(a)){console.error("Date invalide");return}v.setItem(re.EUGENE_WORKED_SATURDAY,a.toISOString())},getEugeneWorkedSaturday:()=>{const a=v.getItem(re.EUGENE_WORKED_SATURDAY);if(!a)return null;const t=new Date(a);return ge(t)?t:null},removeEugeneWorkedSaturday:()=>{v.removeItem(re.EUGENE_WORKED_SATURDAY)},setVacations:a=>{if(!Array.isArray(a)||!a.every(Fe)){console.error("Données de vacances invalides");return}const t=a.map(r=>({chef:r.chef,startDate:r.startDate,endDate:r.endDate,type:r.type}));v.setItem(re.VACATIONS,t)},getVacations:()=>{const a=v.getItem(re.VACATIONS);return Array.isArray(a)&&a.every(Fe)?a:[]},clearAll:()=>{Object.values(re).forEach(a=>{v.removeItem(a)})}},An=({vacations:a,onVacationsImport:t})=>{const r=()=>{try{const n={version:"1.0",timestamp:new Date().toISOString(),data:{vacations:a,eugeneWorkedSaturday:v.getEugeneWorkedSaturday()}},s=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),o=URL.createObjectURL(s),d=document.createElement("a");d.href=o,d.download=`planning-equipe-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(o)}catch(n){console.error("Erreur lors de l'export:",n),alert("Erreur lors de l'export des données")}},e=n=>{var d;const s=(d=n.target.files)==null?void 0:d[0];if(!s)return;const o=new FileReader;o.onload=l=>{var m;try{const h=(m=l.target)==null?void 0:m.result,c=JSON.parse(h);if(!c.version||!c.data)throw new Error("Format de fichier invalide");if(Array.isArray(c.data.vacations)){const p=c.data.vacations.filter(f=>f&&typeof f.chef=="string"&&f.startDate&&f.endDate&&typeof f.type=="string").map(f=>({...f,startDate:new Date(f.startDate),endDate:new Date(f.endDate)}));t(p)}if(c.data.eugeneWorkedSaturday){const p=new Date(c.data.eugeneWorkedSaturday);isNaN(p.getTime())||v.setEugeneWorkedSaturday(p)}alert("Import réussi !")}catch(h){console.error("Erreur lors de l'import:",h),alert("Erreur lors de l'import des données")}},o.readAsText(s),n.target.value=""};return i.jsxs("div",{className:"bg-white rounded-lg p-4 shadow",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Gestion des données"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("button",{onClick:r,className:"w-full bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600 transition-colors",children:"Exporter les données"}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Téléchargez une sauvegarde de toutes vos données"})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block",children:[i.jsx("span",{className:"sr-only",children:"Importer des données"}),i.jsxs("div",{className:"relative",children:[i.jsx("button",{onClick:()=>{var n;return(n=document.getElementById("file-import"))==null?void 0:n.click()},className:"w-full bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 transition-colors",children:"Importer des données"}),i.jsx("input",{id:"file-import",type:"file",accept:".json",onChange:e,className:"hidden"})]})]}),i.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Restaurez vos données à partir d'une sauvegarde"})]})]})]})};class k{static initSession(){const t={lastActivity:Date.now(),loginAttempts:0,lastAttempt:0,isLocked:!1,lockUntil:0};v.setItem(this.SESSION_KEY,JSON.stringify(t))}static updateActivity(){const t=this.getSession();t&&(t.lastActivity=Date.now(),v.setItem(this.SESSION_KEY,JSON.stringify(t)))}static isSessionExpired(){const t=this.getSession();return t?Date.now()-t.lastActivity>this.INACTIVITY_TIMEOUT:!0}static recordLoginAttempt(t){const r=this.getSession()||{lastActivity:Date.now(),loginAttempts:0,lastAttempt:0,isLocked:!1,lockUntil:0};t?(r.loginAttempts=0,r.isLocked=!1):(r.loginAttempts++,r.lastAttempt=Date.now(),r.loginAttempts>=this.MAX_LOGIN_ATTEMPTS&&(r.isLocked=!0,r.lockUntil=Date.now()+this.LOCK_DURATION)),v.setItem(this.SESSION_KEY,JSON.stringify(r))}static isAccountLocked(){const t=this.getSession();if(!t)return!1;const r=Date.now();return t.isLocked&&r<t.lockUntil?!0:(t.isLocked&&r>=t.lockUntil&&(t.isLocked=!1,t.loginAttempts=0,v.setItem(this.SESSION_KEY,JSON.stringify(t))),!1)}static getRemainingLockTime(){const t=this.getSession();if(!t||!t.isLocked)return 0;const r=t.lockUntil-Date.now();return r>0?r:0}static getSession(){const t=v.getItem(this.SESSION_KEY);return t?JSON.parse(t):null}static clearSession(){v.removeItem(this.SESSION_KEY)}}G(k,"SESSION_KEY","planning_session"),G(k,"INACTIVITY_TIMEOUT",30*60*1e3),G(k,"MAX_LOGIN_ATTEMPTS",3),G(k,"LOCK_DURATION",15*60*1e3);const He=[{username:"admin",password:"240be518fabd2724ddb6f04eeb1da5967448d7e831c08c8fa822809f74c720a9",role:"admin",lastPasswordChange:Date.now(),status:"active",createdAt:Date.now()},{username:"lionel",password:"7fdc9f4d7295b790e497abe7cc09f86991e32a634a5a7c67f42c68e8d0c5f2c7",role:"admin",lastPasswordChange:Date.now(),status:"active",createdAt:Date.now()}];class j{static async initialize(){console.log("Initializing AuthService...");const t=v.getItem(this.USERS_KEY);if(console.log("Existing users:",t),!t||!Array.isArray(t)||t.length===0){console.log("No valid users found, initializing with default users...");const r={username:"admin",password:await this.hashPassword("admin123"),role:"admin",lastPasswordChange:Date.now(),status:"active",createdAt:Date.now()},e={username:"lionel",password:await this.hashPassword("lionel123"),role:"admin",lastPasswordChange:Date.now(),status:"active",createdAt:Date.now()};v.setItem(this.USERS_KEY,JSON.stringify([r,e])),console.log("Default users initialized with new password hashes")}else t.some(e=>!e.username||!e.password||!e.role||!e.status)&&(console.log("Found invalid users, reinitializing with default users..."),v.setItem(this.USERS_KEY,JSON.stringify(He)),console.log("Default users reinitialized:",He));k.initSession()}static async register(t,r,e){try{const n=JSON.parse(v.getItem(this.USERS_KEY)||"[]");if(n.some(d=>d.username.toLowerCase()===t.toLowerCase()))return!1;const s=await this.hashPassword(r),o={username:t,password:s,role:e,status:"pending",lastPasswordChange:Date.now(),createdAt:Date.now()};return n.push(o),v.setItem(this.USERS_KEY,JSON.stringify(n)),this.addPendingNotification(t),!0}catch(n){return console.error("Erreur lors de la création du compte:",n),!1}}static addPendingNotification(t){const r=this.getPendingNotifications();r.push({type:"new_user",username:t,timestamp:Date.now()}),v.setItem(this.PENDING_NOTIFICATIONS_KEY,JSON.stringify(r))}static getPendingNotifications(){return JSON.parse(v.getItem(this.PENDING_NOTIFICATIONS_KEY)||"[]")}static clearNotification(t){const e=this.getPendingNotifications().filter(n=>n.username!==t);v.setItem(this.PENDING_NOTIFICATIONS_KEY,JSON.stringify(e))}static async login(t,r){try{if(k.isAccountLocked()){const d=Math.ceil(k.getRemainingLockTime()/1e3/60),l=new Error(`Compte temporairement verrouillé. Réessayez dans ${d} minutes.`);throw l.code="ACCOUNT_LOCKED",l}console.log("Checking stored users...");const e=JSON.parse(v.getItem(this.USERS_KEY)||"[]");console.log("Stored users:",e),console.log("Looking for user:",t);const n=e.find(d=>d.username.toLowerCase()===t.toLowerCase());if(console.log("Found user:",n),!n){k.recordLoginAttempt(!1);const d=new Error("Identifiants invalides");throw d.code="INVALID_CREDENTIALS",d}const s=await this.hashPassword(r);if(n.password!==s){k.recordLoginAttempt(!1);const d=new Error("Identifiants invalides");throw d.code="INVALID_CREDENTIALS",d}if(n.status==="pending"){const d=new Error("Votre compte est en attente de validation par un administrateur.");throw d.code="ACCOUNT_PENDING",d}if(n.status==="rejected"){const d=new Error("Votre compte a été rejeté par un administrateur.");throw d.code="ACCOUNT_REJECTED",d}if(this.isPasswordExpired(n)){const d=new Error("Votre mot de passe a expiré. Veuillez le changer.");throw d.code="PASSWORD_EXPIRED",d}const o={id:n.username,username:n.username,role:n.role,status:n.status,email:`${n.username}@example.com`,lastPasswordChange:new Date(n.lastPasswordChange)};return v.setItem(this.CURRENT_USER_KEY,JSON.stringify(o)),k.recordLoginAttempt(!0),k.updateActivity(),o}catch(e){throw console.error("Erreur lors de la connexion:",e),e}}static getCurrentUser(){const t=v.getItem(this.CURRENT_USER_KEY);return t?JSON.parse(t):null}static async validateUser(t,r){try{const e=JSON.parse(v.getItem(this.USERS_KEY)||"[]"),n=e.findIndex(s=>s.username===t);return n===-1?!1:(e[n].status=r?"active":"rejected",v.setItem(this.USERS_KEY,JSON.stringify(e)),this.clearNotification(t),!0)}catch(e){return console.error("Erreur lors de la validation du compte:",e),!1}}static getPendingUsers(){return JSON.parse(v.getItem(this.USERS_KEY)||"[]").filter(r=>r.status==="pending").map(({username:r,createdAt:e})=>({username:r,createdAt:e}))}static async logout(){try{v.removeItem(this.CURRENT_USER_KEY),k.clearSession()}catch(t){console.error("Erreur lors de la déconnexion:",t),v.removeItem(this.CURRENT_USER_KEY),k.clearSession()}}static isAuthenticated(){return!!this.getCurrentUser()}static async migrateDefaultUsers(){}static isPasswordExpired(t){return t.lastPasswordChange?(Date.now()-t.lastPasswordChange)/(1e3*60*60*24)>this.PASSWORD_EXPIRY_DAYS:!0}static async hashPassword(t){try{let r=0;for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);r=(r<<5)-r+s,r=r&r}return Math.abs(r).toString(16).padStart(64,"0")}catch(r){throw console.error("Error hashing password:",r),r}}static async changePassword(t,r,e){try{const n=await this.hashPassword(r),s=await this.hashPassword(e),o=JSON.parse(v.getItem(this.USERS_KEY)||"[]"),d=o.findIndex(l=>l.username===t&&l.password===n);return d!==-1?(o[d].password=s,o[d].lastPasswordChange=Date.now(),v.setItem(this.USERS_KEY,JSON.stringify(o)),!0):!1}catch(n){return console.error("Erreur lors du changement de mot de passe:",n),!1}}static async resetDefaultPassword(){try{const t=JSON.parse(v.getItem(this.USERS_KEY)||"[]");for(const r of t)r.username==="admin"&&(r.password=await this.hashPassword("admin123"),console.log("Mot de passe admin réinitialisé")),r.username==="lionel"&&(r.password=await this.hashPassword("lionel123"),console.log("Mot de passe lionel réinitialisé"));return v.setItem(this.USERS_KEY,JSON.stringify(t)),console.log("Mots de passe réinitialisés avec succès."),!0}catch(t){return console.error("Erreur lors de la réinitialisation des mots de passe:",t),!1}}static async resetPassword(t){return console.warn("Réinitialisation de mot de passe temporairement désactivée"),!1}static async getAllUsers(){return JSON.parse(v.getItem(this.USERS_KEY)||"[]").map(r=>({id:r.username,username:r.username,role:r.role,status:r.status==="rejected"?"inactive":r.status,email:`${r.username}@example.com`,lastPasswordChange:new Date(r.lastPasswordChange)}))}static async deleteUser(t){try{const r=JSON.parse(v.getItem(this.USERS_KEY)||"[]");if(["admin","lionel"].includes(t))return!1;const e=r.filter(n=>n.username!==t);return v.setItem(this.USERS_KEY,JSON.stringify(e)),!0}catch(r){return console.error("Erreur lors de la suppression de l'utilisateur:",r),!1}}static async updateUserStatus(t,r){try{if(["admin","lionel"].includes(t))return!1;const e=JSON.parse(v.getItem(this.USERS_KEY)||"[]"),n=e.findIndex(s=>s.username===t);return n===-1?!1:(e[n].status=r,v.setItem(this.USERS_KEY,JSON.stringify(e)),r==="active"&&this.clearNotification(t),!0)}catch(e){return console.error("Erreur lors de la mise à jour du statut:",e),!1}}static resetAuth(){console.log("Réinitialisation de l'authentification..."),v.removeItem(this.USERS_KEY),v.removeItem(this.CURRENT_USER_KEY),v.removeItem(this.PENDING_NOTIFICATIONS_KEY),k.clearSession(),this.initialize(),console.log("Réinitialisation terminée")}}G(j,"USERS_KEY","planning_users"),G(j,"CURRENT_USER_KEY","planning_current_user"),G(j,"PASSWORD_EXPIRY_DAYS",90),G(j,"PENDING_NOTIFICATIONS_KEY","planning_pending_notifications");const Pn=({onBack:a})=>{const[t,r]=w.useState(""),[e,n]=w.useState(""),[s,o]=w.useState(""),[d,l]=w.useState(""),[m,h]=w.useState(!1),c=async p=>{if(p.preventDefault(),l(""),e!==s){l("Les mots de passe ne correspondent pas");return}try{await j.register(t,e,"user"),h(!0),setTimeout(()=>{a()},2e3)}catch(f){l(f.message||"Erreur lors de l'inscription")}};return i.jsx("div",{className:"cyberpunk-bg flex items-center justify-center min-h-screen p-6",children:i.jsxs("div",{className:"neon-card w-full max-w-md p-8 rounded-lg",children:[i.jsx("h2",{className:"neon-text text-3xl font-bold mb-8 text-center",children:"Créer un compte"}),m?i.jsxs("div",{className:"text-center",children:[i.jsx("p",{className:"neon-text text-lg mb-4",children:"Inscription réussie ! En attente de validation par un administrateur."}),i.jsx("button",{onClick:a,className:"neon-button px-6 py-2 rounded-md",children:"Retour à la connexion"})]}):i.jsxs("form",{onSubmit:c,className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"username",className:"neon-text block text-sm font-medium mb-2",children:"Nom d'utilisateur"}),i.jsx("input",{id:"username",type:"text",value:t,onChange:p=>r(p.target.value),className:"neon-input w-full px-4 py-2 rounded-md",required:!0,autoComplete:"username"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"neon-text block text-sm font-medium mb-2",children:"Mot de passe"}),i.jsx("input",{id:"password",type:"password",value:e,onChange:p=>n(p.target.value),className:"neon-input w-full px-4 py-2 rounded-md",required:!0,autoComplete:"new-password"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirm-password",className:"neon-text block text-sm font-medium mb-2",children:"Confirmer le mot de passe"}),i.jsx("input",{id:"confirm-password",type:"password",value:s,onChange:p=>o(p.target.value),className:"neon-input w-full px-4 py-2 rounded-md",required:!0,autoComplete:"new-password"})]}),d&&i.jsx("div",{className:"text-red-500 text-sm text-center animate-pulse",children:d}),i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsx("button",{type:"submit",className:"neon-button w-full py-2 px-4 rounded-md text-sm font-medium",children:"S'inscrire"}),i.jsx("button",{type:"button",onClick:a,className:"neon-button w-full py-2 px-4 rounded-md text-sm font-medium",children:"Retour"})]})]})]})})},On=({onLoginSuccess:a})=>{const[t,r]=w.useState(""),[e,n]=w.useState(""),[s,o]=w.useState(""),[d,l]=w.useState(!1),m=async c=>{c.preventDefault();try{const p=await j.login(t,e);a(p)}catch(p){o(p.message||"Erreur de connexion")}},h=async()=>{try{const c=prompt("Veuillez entrer votre adresse email pour réinitialiser votre mot de passe:");if(!c)return;const p=await j.resetPassword(c);o(p?"Un email de réinitialisation de mot de passe vous a été envoyé.":"Erreur lors de la réinitialisation du mot de passe.")}catch{o("Erreur lors de la réinitialisation du mot de passe.")}};return d?i.jsx(Pn,{onBack:()=>l(!1)}):i.jsx("div",{className:"cyberpunk-bg flex items-center justify-center min-h-screen p-6",children:i.jsxs("div",{className:"neon-card w-full max-w-md p-8 rounded-lg",children:[i.jsx("h2",{className:"neon-text text-3xl font-bold mb-8 text-center",children:"Planning Équipe"}),i.jsxs("form",{onSubmit:m,className:"space-y-6",children:[s&&i.jsx("div",{className:"bg-red-900/50 border border-red-500 text-red-300 px-4 py-3 rounded relative",role:"alert",children:i.jsx("span",{className:"block sm:inline",children:s})}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"username",className:"neon-text block text-sm font-medium mb-2",children:"Nom d'utilisateur"}),i.jsx("input",{id:"username",type:"text",value:t,onChange:c=>r(c.target.value),className:"neon-input w-full px-4 py-2 rounded-md bg-gray-900 border border-cyan-500 text-cyan-300 placeholder-cyan-700",required:!0,placeholder:"Entrez votre nom d'utilisateur"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"password",className:"neon-text block text-sm font-medium mb-2",children:"Mot de passe"}),i.jsx("input",{id:"password",type:"password",value:e,onChange:c=>n(c.target.value),className:"neon-input w-full px-4 py-2 rounded-md bg-gray-900 border border-cyan-500 text-cyan-300 placeholder-cyan-700",required:!0,placeholder:"Entrez votre mot de passe"})]}),i.jsxs("div",{className:"flex flex-col space-y-4",children:[i.jsx("button",{type:"submit",className:"neon-button w-full py-2 px-4 rounded-md text-sm font-medium bg-cyan-900 hover:bg-cyan-800 border border-cyan-500 text-cyan-300",children:"Se connecter"}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("button",{type:"button",onClick:()=>l(!0),className:"neon-text text-sm hover:text-cyan-400 transition-colors",children:"Créer un compte"}),i.jsx("button",{type:"button",onClick:h,className:"neon-text text-sm text-red-400 hover:text-red-300 transition-colors",children:"Réinitialiser"})]})]})]})]})})},kn={1:{Lionel:u.MAT2,Eugène:u.AM2,Stephane:u.AM1,Philippe:u.MAT1,Nassim:u.REMPLACANT},2:{Lionel:u.MAT1,Eugène:u.MAT2,Stephane:u.AM2,Philippe:u.AM1,Nassim:u.REMPLACANT},3:{Lionel:u.AM1,Eugène:u.MAT1,Stephane:u.MAT2,Philippe:u.AM2,Nassim:u.REMPLACANT},4:{Lionel:u.AM2,Eugène:u.AM1,Stephane:u.MAT1,Philippe:u.MAT2,Nassim:u.REMPLACANT},5:{Lionel:u.MAT2,Eugène:u.AM2,Stephane:u.AM1,Philippe:u.REMPLACANT,Nassim:u.MAT1},6:{Lionel:u.MAT1,Eugène:u.MAT2,Stephane:u.AM2,Philippe:u.REMPLACANT,Nassim:u.AM1},7:{Lionel:u.AM1,Eugène:u.MAT1,Stephane:u.MAT2,Philippe:u.REMPLACANT,Nassim:u.AM2},8:{Lionel:u.AM2,Eugène:u.AM1,Stephane:u.MAT1,Philippe:u.REMPLACANT,Nassim:u.MAT2},9:{Lionel:u.MAT2,Eugène:u.AM2,Stephane:u.REMPLACANT,Philippe:u.AM1,Nassim:u.MAT1},10:{Lionel:u.MAT1,Eugène:u.MAT2,Stephane:u.REMPLACANT,Philippe:u.AM2,Nassim:u.AM1},11:{Lionel:u.AM1,Eugène:u.MAT1,Stephane:u.REMPLACANT,Philippe:u.MAT2,Nassim:u.AM2},12:{Lionel:u.AM2,Eugène:u.AM1,Stephane:u.REMPLACANT,Philippe:u.MAT1,Nassim:u.MAT2},13:{Lionel:u.MAT2,Eugène:u.REMPLACANT,Stephane:u.AM2,Philippe:u.AM1,Nassim:u.MAT1},14:{Lionel:u.MAT1,Eugène:u.REMPLACANT,Stephane:u.MAT2,Philippe:u.AM2,Nassim:u.AM1},15:{Lionel:u.AM1,Eugène:u.REMPLACANT,Stephane:u.MAT1,Philippe:u.MAT2,Nassim:u.AM2},16:{Lionel:u.AM2,Eugène:u.REMPLACANT,Stephane:u.AM1,Philippe:u.MAT1,Nassim:u.MAT2},17:{Lionel:u.REMPLACANT,Eugène:u.MAT2,Stephane:u.AM2,Philippe:u.AM1,Nassim:u.MAT1},18:{Lionel:u.REMPLACANT,Eugène:u.MAT1,Stephane:u.MAT2,Philippe:u.AM2,Nassim:u.AM1},19:{Lionel:u.REMPLACANT,Eugène:u.AM1,Stephane:u.MAT1,Philippe:u.MAT2,Nassim:u.AM2},20:{Lionel:u.REMPLACANT,Eugène:u.AM2,Stephane:u.AM1,Philippe:u.MAT1,Nassim:u.MAT2}};class Yn{static getWeekSchedule(t,r=[]){const e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(Ee.getFullYear(),Ee.getMonth(),Ee.getDate()),s=De(e,{weekStartsOn:1}),o=De(n,{weekStartsOn:1}),d=s.getTime()-o.getTime(),l=Math.floor(d/(7*24*60*60*1e3));console.log("Date courante:",e),console.log("Start of week:",s),console.log("Reference date:",o),console.log("Weeks since reference:",l);const m=(l%me+me)%me+1,h=Math.floor(l/me)+1;console.log("Week in cycle:",m),console.log("Cycle number:",h);const c=kn[m],p=this.getReplacementChef(c),f={},M=new Date(s),N=vn.slice().sort((g,x)=>{const y=c[g],b=c[x],A=[u.MAT1,u.MAT2,u.AM1,u.AM2,u.REMPLACANT];return A.indexOf(y)-A.indexOf(b)});for(let g=0;g<7;g++){const x=this.getDaySchedule(M,c,r,N);f[M.toISOString()]=x,M.setDate(M.getDate()+1)}return{startDate:s,cycleNumber:h,weekInCycle:m,remplacant:p,schedule:f}}static getReplacementChef(t){var r;return(r=Object.entries(t).find(([e,n])=>n===u.REMPLACANT))==null?void 0:r[0]}static getDaySchedule(t,r,e,n){const s=this.getReplacementChef(r),o=De(t,{weekStartsOn:1});let d=0,l=new Date(o);for(let f=0;f<7;f++)(!Ue(l)||Ne(l)&&this.hasAbsentChef(l,e,n))&&d++,l.setDate(l.getDate()+1);if((Ne(t)||je(t))&&this.hasAbsentChef(t,e,n)&&d>5,Ue(t)){if(Yt(t))return[];const f=n.find(N=>r[N]===u.MAT1),M=this.getVacation(f,t,e);return M?[{chef:f,poste:u.MAT1,vacation:M,isAbsent:!0},{chef:s,poste:u.MAT1,isReplacing:!0,replacedChef:f}]:(f==="Eugène"&&this.handleEugeneWorkedSaturday(t),[{chef:f,poste:u.MAT1}])}const m=this.isEugeneRecoveryDay(t);m&&v.removeEugeneWorkedSaturday();const h=[],c=n.find(f=>this.getVacation(f,t,e)),p=c?r[c]:null;for(const f of n){const M=this.getVacation(f,t,e),N=new Date(t.getTime()-(je(t)?2:4)*24*60*60*1e3),g=r[f]===u.MAT1&&!this.getVacation(f,N,e)&&(f==="Eugène"&&m||f!=="Eugène"&&je(t));f===s?c?h.push({chef:f,poste:p,isReplacing:!0,replacedChef:c}):g&&r[f]===u.MAT1?h.push({chef:f,poste:u.MAT1,isReplacing:!0,replacedChef:f}):h.push({chef:f,poste:u.REMPLACANT}):M?h.push({chef:f,poste:r[f],vacation:M,isAbsent:!0}):g&&!c?h.push({chef:f,poste:r[f],isRecuperation:!0}):f!==c&&h.push({chef:f,poste:r[f]})}return h}static getVacation(t,r,e){return e.find(n=>{const s=new Date(n.startDate),o=new Date(n.endDate);return s.setHours(0,0,0,0),o.setHours(23,59,59,999),n.chef===t&&Wr(r,{start:s,end:o})})}static hasAbsentChef(t,r,e){return e.some(n=>this.getVacation(n,t,r)!==void 0)}static handleEugeneWorkedSaturday(t){this.isEugeneWorkingSaturday(t)&&v.setEugeneWorkedSaturday(t)}static isEugeneRecoveryDay(t){const r=v.getEugeneWorkedSaturday();if(!r)return!1;const e=B(r,"yyyy-MM-dd"),n=B(t,"yyyy-MM-dd");return e===n?(v.removeEugeneWorkedSaturday(),!1):!0}static isEugeneWorkingSaturday(t){return Ne(t)&&this.hasAbsentChef(t,[],["Eugène"])===!1}}const Ln=({onClose:a})=>{const[t,r]=w.useState(""),[e,n]=w.useState(""),[s,o]=w.useState(""),[d,l]=w.useState(""),[m,h]=w.useState(!1),[c,p]=w.useState(!1),[f,M]=w.useState(!1),[N,g]=w.useState(!1),x=async y=>{if(y.preventDefault(),l(""),e!==s){l("Les nouveaux mots de passe ne correspondent pas");return}if(e.length<8){l("Le nouveau mot de passe doit contenir au moins 8 caractères");return}const b=j.getCurrentUser();if(!b){l("Utilisateur non connecté");return}try{await j.changePassword(b.username,t,e)?(h(!0),setTimeout(()=>{a()},2e3)):l("Ancien mot de passe incorrect")}catch{l("Erreur lors du changement de mot de passe")}};return i.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center",children:i.jsxs("div",{className:"bg-white p-8 rounded-lg shadow-lg max-w-md w-full",children:[i.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Changer le mot de passe"}),m?i.jsx("div",{className:"bg-green-50 p-4 rounded mb-4",children:i.jsx("p",{className:"text-green-800",children:"Mot de passe modifié avec succès !"})}):i.jsxs("form",{onSubmit:x,className:"space-y-4",children:[d&&i.jsx("div",{className:"bg-red-50 p-4 rounded",children:i.jsx("p",{className:"text-red-800",children:d})}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ancien mot de passe"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:c?"text":"password",value:t,onChange:y=>r(y.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),i.jsx("button",{type:"button",onClick:()=>p(!c),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:c?"Masquer":"Afficher"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nouveau mot de passe"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:f?"text":"password",value:e,onChange:y=>n(y.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),i.jsx("button",{type:"button",onClick:()=>M(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:f?"Masquer":"Afficher"})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirmer le nouveau mot de passe"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:N?"text":"password",value:s,onChange:y=>o(y.target.value),className:"w-full px-3 py-2 border rounded focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),i.jsx("button",{type:"button",onClick:()=>g(!N),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700",children:N?"Masquer":"Afficher"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-4 pt-4",children:[i.jsx("button",{type:"button",onClick:a,className:"px-4 py-2 text-gray-600 hover:text-gray-800",children:"Annuler"}),i.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"Changer le mot de passe"})]})]})]})})},Un=()=>{const[a,t]=w.useState([]),[r,e]=w.useState([]);w.useEffect(()=>{n(),s()},[]);const n=()=>{const d=j.getPendingUsers();t(d)},s=()=>{const d=j.getPendingNotifications();e(d)},o=async(d,l)=>{await j.validateUser(d,l)&&(n(),s())};return a.length===0?null:i.jsxs("div",{className:"fixed top-4 right-4 neon-card p-6 rounded-lg shadow-lg max-w-md z-50 border border-cyan-500",children:[i.jsx("h3",{className:"text-xl font-bold mb-6 neon-text text-center",children:"Utilisateurs en attente"}),i.jsx("div",{className:"space-y-6",children:a.map(d=>i.jsxs("div",{className:"border border-cyan-500/30 p-4 rounded-lg bg-gray-900/50 backdrop-blur-sm",children:[i.jsx("p",{className:"font-medium text-cyan-300 text-lg",children:d.username}),i.jsxs("p",{className:"text-sm text-cyan-500/70 mb-4",children:["Demande créée le ",new Date(d.createdAt).toLocaleDateString()]}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx("button",{onClick:()=>o(d.username,!0),className:"neon-button px-4 py-2 rounded-md text-sm font-medium bg-emerald-900/50 hover:bg-emerald-800/50 border border-emerald-500 text-emerald-300 hover:text-emerald-200 transition-all duration-300",children:"Approuver"}),i.jsx("button",{onClick:()=>o(d.username,!1),className:"neon-button-danger px-4 py-2 rounded-md text-sm font-medium bg-red-900/50 hover:bg-red-800/50 border border-red-500 text-red-300 hover:text-red-200 transition-all duration-300",children:"Rejeter"})]})]},d.username))})]})},_n=()=>{const[a,t]=w.useState([]);w.useState(!1),w.useState(null);const[r,e]=w.useState("");w.useEffect(()=>{n()},[]);const n=async()=>{const l=await j.getAllUsers();t(l)},s=async(l,m)=>{await j.updateUserStatus(l,m)?n():e(`Impossible de modifier le statut de ${l}`)},o=async l=>{window.confirm(`Êtes-vous sûr de vouloir supprimer l'utilisateur ${l} ?`)&&(await j.deleteUser(l)?n():e(`Impossible de supprimer l'utilisateur ${l}`))},d=l=>{switch(l){case"active":return"bg-green-100 text-green-800";case"pending":return"bg-yellow-100 text-yellow-800";case"rejected":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}};return i.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[i.jsx("div",{className:"flex justify-between items-center mb-6",children:i.jsx("h2",{className:"text-xl font-semibold",children:"Gestion des Utilisateurs"})}),r&&i.jsxs("div",{className:"mb-4 p-4 bg-red-50 text-red-800 rounded",children:[r,i.jsx("button",{onClick:()=>e(""),className:"ml-2 text-red-600 hover:text-red-800",children:"×"})]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Utilisateur"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Rôle"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Statut"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date de création"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a==null?void 0:a.map(l=>i.jsxs("tr",{children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:l.username})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:l.role==="admin"?"Administrateur":"Utilisateur"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${d(l.status)}`,children:l.status==="active"?"Actif":l.status==="pending"?"En attente":"Rejeté"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(l.createdAt??"").toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:!["admin","lionel"].includes(l.username)&&i.jsxs(i.Fragment,{children:[l.status!=="active"&&i.jsx("button",{onClick:()=>s(l.username,"active"),className:"text-green-600 hover:text-green-900",children:"Activer"}),l.status!=="rejected"&&i.jsx("button",{onClick:()=>s(l.username,"rejected"),className:"text-red-600 hover:text-red-900",children:"Rejeter"}),i.jsx("button",{onClick:()=>o(l.username),className:"text-red-600 hover:text-red-900",children:"Supprimer"})]})})]},l.username))})]})})]})},Rn=()=>{const[a,t]=w.useState([]);w.useEffect(()=>{r()},[]);const r=async()=>{const n=await j.getAllUsers();t(n)},e=async n=>{window.confirm(`Êtes-vous sûr de vouloir supprimer l'utilisateur ${n} ?`)&&await j.deleteUser(n)&&r()};return i.jsxs("div",{className:"p-6",children:[i.jsx("h2",{className:"neon-text text-2xl font-bold mb-6",children:"Gestion des Utilisateurs"}),i.jsx("div",{className:"grid gap-4",children:a==null?void 0:a.map(n=>i.jsxs("div",{className:"neon-card p-4 rounded-lg flex justify-between items-center",children:[i.jsxs("div",{children:[i.jsx("span",{className:"neon-text font-medium",children:n.username}),i.jsx("span",{className:"ml-4 text-sm opacity-70",children:n.role})]}),i.jsx("button",{onClick:()=>e(n.username),className:"neon-button-danger px-4 py-2 rounded-md text-sm",children:"Supprimer"})]},n.username))})]})};function In(){const[a,t]=w.useState(new Date("2024-10-14")),[r,e]=w.useState(null),[n,s]=w.useState([]),[o,d]=w.useState(!1);w.useEffect(()=>{j.initialize();const c=j.getCurrentUser();c&&e(c)},[]);const l=c=>{e(c)},m=()=>{j.logout(),e(null)};if(!r)return i.jsx(On,{onLoginSuccess:l});const h=Yn.getWeekSchedule(a,n);return i.jsxs("div",{className:"cyberpunk-bg min-h-screen",children:[r.role==="admin"&&i.jsx(Un,{}),i.jsx("div",{className:"container mx-auto py-8 px-4",children:i.jsxs("div",{className:"flex flex-col space-y-6",children:[i.jsx("header",{className:"neon-card p-4 rounded-lg",children:i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h1",{className:"neon-text text-3xl font-bold",children:"Planning Équipe"}),i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"neon-text text-sm",children:[r.username," (",r.role,")"]}),i.jsx("button",{onClick:()=>d(!0),className:"neon-button px-4 py-2 rounded-md text-sm",children:"Changer le mot de passe"}),i.jsx("button",{onClick:m,className:"neon-button px-4 py-2 rounded-md text-sm",children:"Déconnexion"})]})]})}),i.jsx("div",{className:"neon-card p-4 rounded-lg",children:i.jsx(jn,{currentDate:a,onDateChange:t})}),r.role==="admin"&&i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"mb-6",children:i.jsx(Rn,{})}),i.jsx("div",{className:"neon-card p-4 rounded-lg",children:i.jsx(_n,{})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx("div",{className:"lg:col-span-2",children:i.jsx("div",{className:"neon-card p-4 rounded-lg",children:i.jsx(xn,{weekSchedule:h})})}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"neon-card p-4 rounded-lg",children:i.jsx(Dn,{vacations:n,onVacationChange:s})}),i.jsx("div",{className:"neon-card p-4 rounded-lg",children:i.jsx(An,{vacations:n,onVacationsImport:s})})]})]})]})}),o&&i.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:i.jsx("div",{className:"neon-card p-6 rounded-lg w-full max-w-md",children:i.jsx(Ln,{onClose:()=>d(!1)})})})]})}const Wn=mt({palette:{primary:{main:"#1976d2"},background:{default:"#f5f5f5"}}},Ot),rt=document.getElementById("root");if(!rt)throw new Error("Root element not found");Ae.createRoot(rt).render(i.jsx(pt.StrictMode,{children:i.jsx(ht,{theme:Wn,children:i.jsx(ft,{dateAdapter:Pt,adapterLocale:"fr",children:i.jsx(In,{})})})}));
